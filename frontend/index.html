<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NUMBLE!</title>
    <!--Bootstrap 5-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <!--Vue.js 3-->
    <script src="https://unpkg.com/vue@3"></script>
</head>
<body>
<header>
    <nav class="navbar navbar-dark bg-dark justify-content-center">

        <!--Render if there is an active game-->
        <section tag="game"  v-if="gameStarted">
            <section tag="game won notifier" v-if="gameWon" class="row text-center top-buffer">
                <h2> Game Won, Congrats!</h2>
            </section>
            
            <!--Render if the game is in easy mode-->
            <div tag="input-section" class="row top-buffer" v-if="!hardMode">
                <div class="input-group row top-buffer justify-content-center">
                    <input :disabled="usedRows != 0 || gameWon" :autofocus="usedRows == 0" data-index="0" ref="input-0" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 0 || gameWon" data-index="1" ref="input-1" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 0 || gameWon" data-index="2" ref="input-2" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 0 || gameWon" data-index="3" ref="input-3" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 0 || gameWon" data-index="4" ref="input-4" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusPrevOnMin($event, 0); checkEquation($event)">
                    <p class="h1 col text-center">=</p>
                    <p class="h1 col text-center" v-if="rightHandSide">{{ rightHandSide }}</p>
                </div>
                <div class="input-group row top-buffer justify-content-center">
                    <input :disabled="usedRows != 1 || gameWon" :autofocus="usedRows == 1" data-index="5" ref="input-5" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 1 || gameWon" data-index="6" ref="input-6" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 1 || gameWon" data-index="7" ref="input-7" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 1 || gameWon" data-index="8" ref="input-8" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 1 || gameWon"data-index="9" ref="input-9" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                    <p class="h1 col text-center">=</p>
                    <p class="h1 col text-center" v-if="rightHandSide">{{ rightHandSide }}</p>
                </div>
                <div class="input-group row top-buffer justify-content-center" >
                    <input :disabled="usedRows != 2 || gameWon" data-index="10" ref="input-10" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 2 || gameWon" data-index="11" ref="input-11" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 2 || gameWon" data-index="12" ref="input-12" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 2 || gameWon" data-index="13" ref="input-13" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 2 || gameWon"data-index="14" ref="input-14" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                    <p class="h1 col text-center">=</p>
                    <p class="h1 col text-center" v-if="rightHandSide">{{ rightHandSide }}</p>
                </div>
                <div class="input-group row top-buffer justify-content-center">
                    <input :disabled="usedRows != 3 || gameWon" data-index="15" ref="input-15" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 3 || gameWon" data-index="16" ref="input-16" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 3 || gameWon" data-index="17" ref="input-17" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 3 || gameWon" data-index="18" ref="input-18" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 3 || gameWon"data-index="19" ref="input-19" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                    <p class="h1 col text-center">=</p>
                    <p class="h1 col text-center" v-if="rightHandSide">{{ rightHandSide }}</p>
                </div>
                <div class="input-group row top-buffer justify-content-center">
                    <input :disabled="usedRows != 4 || gameWon" data-index="20" ref="input-20" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 4 || gameWon" data-index="21" ref="input-21" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 4 || gameWon" data-index="22" ref="input-22" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 4 || gameWon" data-index="23" ref="input-23" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 4 || gameWon"data-index="24" ref="input-24" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                    <p class="h1 col text-center">=</p>
                    <p class="h1 col text-center" v-if="rightHandSide">{{ rightHandSide }}</p>
                </div>
                <!-- <div class="input-group row top-buffer justify-content-center">
                    <input :disabled="usedRows != 5 || gameWon" data-index="25" ref="input-25" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 5 || gameWon" data-index="26" ref="input-26" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 5 || gameWon" data-index="27" ref="input-27" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 5 || gameWon" data-index="28" ref="input-28" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                    <input :disabled="usedRows != 5 || gameWon"data-index="29" ref="input-29" type="text" maxlength="1" pattern="[0-9]|\+|-" 
                    class="form-control col border-solid border-2 text-center" @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                    <p class="h1 col text-center">=</p>
                    <p class="h1 col text-center" v-if="rightHandSide">{{ rightHandSide }}</p>
                </div> -->
                <section class="row top-buffer justify-content-center text-center" tag="restart game" v-if="gameWon">
                    <h3>Replay the Game</h3>
                    <form>
                        <select class="form-select top-buffer" id="gameDifficultySelect">
                        <option selected value="Easy">Easy Mode</option>
                        <option value="Hard">Hard Mode</option>
                        </select>
                    </form>
                    <button type="start-button" class="btn btn-success top-buffer" @click="restartGame">Replay</button>
                </section>
               
            </div>

</header>
<main class="container" id="app">

    <!--Render before starting the game-->
    <div class="row top-buffer" v-if="!gameStarted">
        <form>
            <select class="form-select" id="gameDifficultySelect">
                <option selected value="Easy">Easy Mode</option>
                <option value="Hard">Hard Mode</option>
            </select>
        </form>
    </div>
    <div class="row top-buffer" v-if="!gameStarted">
        <button type="start-button" class="btn btn-success" @click="startGame">New Game</button>
    </div>

    <!--Render if there is an active game-->
    <section tag="game" v-if="gameStarted">

        <!--Render if the game is in easy mode-->
        <div tag="input-section" class="row top-buffer" v-if="!hardMode">
            <div class="input-group row top-buffer justify-content-center">
                <input :disabled="usedRows != 0" :autofocus="usedRows == 0" data-index="0" ref="input-0" type="text"
                       maxlength="1" pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 0" data-index="1" ref="input-1" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 0" data-index="2" ref="input-2" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 0" data-index="3" ref="input-3" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 0" data-index="4" ref="input-4" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusPrevOnMin($event, 0); checkEquation($event)">
                <p class="h1 col">=</p>
                <p class="h1 col" v-if="rightHandSide">{{ rightHandSide }}</p>
            </div>
            <div class="input-group row top-buffer justify-content-center">
                <input :disabled="usedRows != 1" :autofocus="usedRows == 1" data-index="5" ref="input-5" type="text"
                       maxlength="1" pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 1" data-index="6" ref="input-6" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 1" data-index="7" ref="input-7" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 1" data-index="8" ref="input-8" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 1" data-index="9" ref="input-9" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                <p class="h1 col">=</p>
                <p class="h1 col" v-if="rightHandSide">{{ rightHandSide }}</p>
            </div>
            <div class="input-group row top-buffer justify-content-center">
                <input :disabled="usedRows != 2" data-index="10" ref="input-10" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 2" data-index="11" ref="input-11" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 2" data-index="12" ref="input-12" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 2" data-index="13" ref="input-13" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 2" data-index="14" ref="input-14" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                <p class="h1 col">=</p>
                <p class="h1 col" v-if="rightHandSide">{{ rightHandSide }}</p>
            </div>
            <div class="input-group row top-buffer justify-content-center">
                <input :disabled="usedRows != 3" data-index="15" ref="input-15" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 3" data-index="16" ref="input-16" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 3" data-index="17" ref="input-17" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 3" data-index="18" ref="input-18" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 3" data-index="19" ref="input-19" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                <p class="h1 col">=</p>
                <p class="h1 col" v-if="rightHandSide">{{ rightHandSide }}</p>
            </div>
            <div class="input-group row top-buffer justify-content-center">
                <input :disabled="usedRows != 4" data-index="20" ref="input-20" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 4" data-index="21" ref="input-21" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 4" data-index="22" ref="input-22" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 4" data-index="23" ref="input-23" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 4" data-index="24" ref="input-24" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                <p class="h1 col">=</p>
                <p class="h1 col" v-if="rightHandSide">{{ rightHandSide }}</p>
            </div>
            <div class="input-group row top-buffer justify-content-center">
                <input :disabled="usedRows != 5" data-index="25" ref="input-25" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 5" data-index="26" ref="input-26" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 5" data-index="27" ref="input-27" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 5" data-index="28" ref="input-28" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0)">
                <input :disabled="usedRows != 5" data-index="29" ref="input-29" type="text" maxlength="1"
                       pattern="[0-9]|\+|-"
                       class="form-control col border-solid border-2 text-center"
                       @keyup="focusNextOnMax($event, 1); focusPrevOnMin($event, 0); checkEquation($event)">
                <p class="h1 col">=</p>
                <p class="h1 col" v-if="rightHandSide">{{ rightHandSide }}</p>
            </div>

        </div>

        <!--Render if the game is in hard mode-->
        <div class="row top-buffer" v-if="hardMode">
            <h3>Hard Mode</h3>
        </div>
    </section>
</main>
<script src="app.js"></script>
</body>
</html>